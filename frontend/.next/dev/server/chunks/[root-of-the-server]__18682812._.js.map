{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/JUAN%20NOGUERA/Desktop/web/Rennor/frontend/app/api/predict/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const { dias_futuros } = await request.json();\r\n\r\n    if (!dias_futuros || dias_futuros < 1 || dias_futuros > 30) {\r\n      return NextResponse.json(\r\n        { error: 'Número de días debe estar entre 1 y 30' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Llamar a tu backend Flask\r\n    const flaskUrl = process.env.FLASK_BACKEND_URL || 'http://localhost:5000';\r\n    \r\n    const response = await fetch(`${flaskUrl}/api/prediccion`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ dias_futuros }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Flask error: ${response.statusText}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      predicciones: data.predicciones,\r\n      metricas: data.metricas,\r\n    });\r\n  } catch (error) {\r\n    console.error('Prediction error:', error);\r\n    return NextResponse.json(\r\n      { error: 'Error al generar predicción' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE3C,IAAI,CAAC,gBAAgB,eAAe,KAAK,eAAe,IAAI;YAC1D,OAAO,4JAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAyC,GAClD;gBAAE,QAAQ;YAAI;QAElB;QAEA,4BAA4B;QAC5B,MAAM,WAAW,QAAQ,GAAG,CAAC,iBAAiB,IAAI;QAElD,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,eAAe,CAAC,EAAE;YACzD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAa;QACtC;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM,CAAC,aAAa,EAAE,SAAS,UAAU,EAAE;QACvD;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,OAAO,4JAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,cAAc,KAAK,YAAY;YAC/B,UAAU,KAAK,QAAQ;QACzB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO,4JAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA8B,GACvC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}